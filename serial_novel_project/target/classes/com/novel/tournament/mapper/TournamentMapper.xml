<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http:/mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.novel.tournament.mapper.TournamentMapper">

	<!-- ■ 전체 리스트 가져오기 -->
	<select id="getList" resultType="com.novel.tournament.domain.TournamentVO">
		SELECT * FROM tourna_tbl
	</select>
	
	<!-- ■ 전체 토너먼트 참여 작품 가져오기 -->
	<select id="getToWorkList" resultType="com.novel.tournament.domain.TournamentJoinVO">
		SELECT tt.QCSJ_C000000000400000 as to_num, tt.to_name, tt.towork_num, nt.novel_title, nt.novel_writer, tt.towork_rec
   		FROM 
        	(SELECT * FROM tourna_tbl INNER JOIN towork_tbl ON tourna_tbl.to_num = towork_tbl.to_num) tt
        INNER JOIN 
        	novel_tbl nt 
    	ON tt.novel_num = nt.novel_nums
	</select>


</mapper>